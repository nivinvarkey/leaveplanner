<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Employee Leave Planner</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="styles.css">
<script src="scripts.js"></script>
</head>
<body class="p-6 bg-slate-900 text-slate-200">

<!-- HEADER -->
<header class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-emerald-400">Employee Leave Planner</h1>
    <div class="flex gap-4">
        <a href="manager.html" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded font-bold">Manager</a>
        <a href="admin.html" class="bg-red-600 hover:bg-red-500 px-4 py-2 rounded font-bold">Admin</a>
    </div>
</header>

<!-- LEAVE FORM -->
<div class="bg-slate-800 p-6 rounded shadow-md max-w-lg">
    <h2 class="text-xl font-bold mb-4">Submit Leave</h2>
    <div class="flex flex-col gap-3">
        <input id="empName" type="text" placeholder="Your Name" class="p-2 rounded bg-slate-700 text-white">
        <input id="empRole" type="text" placeholder="Your Role" class="p-2 rounded bg-slate-700 text-white">
        <input id="empTeam" type="text" placeholder="Team" class="p-2 rounded bg-slate-700 text-white">
        <input id="empStart" type="date" class="p-2 rounded bg-slate-700 text-white">
        <input id="empEnd" type="date" class="p-2 rounded bg-slate-700 text-white">
        <input id="empRemark" type="text" placeholder="Remark" class="p-2 rounded bg-slate-700 text-white">
    </div>
    <button onclick="addLeaveEmployee(empName.value, empRole.value, empTeam.value, empStart.value, empEnd.value, empRemark.value)"
    class="mt-4 w-full bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded font-bold">Submit Leave</button>
</div>

<!-- LEAVE LIST -->
<div class="mt-8 max-w-lg">
    <h2 class="text-xl font-bold mb-4">Your Submitted Leaves</h2>
    <div id="leaveList" class="flex flex-col gap-2"></div>
</div>

<script>
// Render employee's own leaves
function renderEmployeeLeaves(){
    const list = document.getElementById('leaveList');
    list.innerHTML = '';
    const name = document.getElementById('empName').value.toLowerCase();
    leaveData.filter(e => e.name.toLowerCase().includes(name)).forEach(e=>{
        const div = document.createElement('div');
        div.className="p-2 bg-slate-700 rounded flex justify-between items-center";
        div.innerHTML = `
            <div>
                <strong>${e.name}</strong> | ${e.role} | ${e.team}<br>
                ${e.start} to ${e.end} | ${e.remark || ''}
            </div>
        `;
        list.appendChild(div);
    });
}

// Update list on name input
document.getElementById('empName').addEventListener('input', renderEmployeeLeaves);
renderEmployeeLeaves();
</script>

</body>
</html>
